(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74e8f8f8"],{1108:function(t,e,n){"use strict";var o=n("8cc9"),s=n.n(o);s.a},"8cc9":function(t,e,n){},d231:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign__page"},[n("p",{staticClass:"sign__page__title"},[t._v("GREEN CLINIC")]),n("form",{staticClass:"sign__page__block",on:{submit:function(e){return e.preventDefault(),t.login_sign(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],attrs:{type:"text",placeholder:"Логин"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(0)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{type:"submit"}},[n("p",[t._v("Войти")])])}],a=(n("b0c0"),{data:function(){return{login:"",password:"",user:{role:""}}},mounted:function(){},methods:{login_sign:function(){var t=this,e={email:this.login,password:this.password};this.$http.post("/login",e).then((function(e){localStorage.setItem("access_token",e.data.token),t.token=localStorage.getItem("access_token"),t.get_profile()}))},get_profile:function(){var t=this;this.$http.post("/get/user/me",{},{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){t.user.role=e.data.name,"Администратор системы"==t.user.role?t.$router.push("/green/admin"):t.$router.push("/404")}))}}}),i=a,r=(n("1108"),n("2877")),u=Object(r["a"])(i,o,s,!1,null,"4d6896ed",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-74e8f8f8.d8a88fb5.js.map